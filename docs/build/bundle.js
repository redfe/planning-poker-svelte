var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n){t.classList[n?"add":"remove"](e)}let b;function v(t){b=t}function y(){if(!b)throw new Error("Function called outside component initialization");return b}function k(){const t=y();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}const w=[],_=[],x=[],C=[],E=Promise.resolve();let S=!1;function L(t){x.push(t)}let P=!1;const j=new Set;function A(){if(!P){P=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];v(e),T(e.$$)}for(v(null),w.length=0;_.length;)_.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];j.has(e)||(j.add(e),e())}x.length=0}while(w.length);for(;C.length;)C.pop()();S=!1,P=!1,j.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const N=new Set;let R;function V(){R={r:0,c:[],p:R}}function B(){R.r||o(R.c),R=R.p}function O(t,e){t&&t.i&&(N.delete(t),t.i(e))}function U(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),R.c.push((()=>{N.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function D(t){t&&t.c()}function q(t,n,c){const{fragment:l,on_mount:s,on_destroy:i,after_update:u}=t.$$;l&&l.m(n,c),L((()=>{const n=s.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(L)}function I(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function M(t,e){-1===t.$$.dirty[0]&&(w.push(t),S||(S=!0,E.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,r,c,l,s,i,a=[-1]){const f=b;v(e);const d=r.props||{},p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let m=!1;if(p.ctx=c?c(e,d,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&M(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&O(e.$$.fragment),q(e,r.target,r.anchor),A()}v(f)}class F{$destroy(){I(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const G=[];function H(e,n=t){let o;const r=[];function l(t){if(c(e,t)&&(e=t,o)){const t=!G.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),G.push(n,e)}if(t){for(let t=0;t<G.length;t+=2)G[t][0](G[t+1]);G.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(c,s=t){const i=[c,s];return r.push(i),1===r.length&&(o=n(l)||t),c(e),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}var J="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),K=new Uint8Array(16);function Q(){if(!J)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J(K)}var W=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function X(t){return"string"==typeof t&&W.test(t)}for(var Y=[],Z=0;Z<256;++Z)Y.push((Z+256).toString(16).substr(1));function tt(t,e,n){var o=(t=t||{}).random||(t.rng||Q)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Y[t[e+0]]+Y[t[e+1]]+Y[t[e+2]]+Y[t[e+3]]+"-"+Y[t[e+4]]+Y[t[e+5]]+"-"+Y[t[e+6]]+Y[t[e+7]]+"-"+Y[t[e+8]]+Y[t[e+9]]+"-"+Y[t[e+10]]+Y[t[e+11]]+Y[t[e+12]]+Y[t[e+13]]+Y[t[e+14]]+Y[t[e+15]]).toLowerCase();if(!X(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const et=function(){const{subscribe:t,set:e,update:n}=H([]);return{subscribe:t,append:(t,e)=>{rt.emit("do event",{type:"append",name:t,point:e})},_append:(t,e)=>{n((n=>{let o=new Array,r=!1;for(const c of n)o.push(c),c.name===t&&(r=!0,c.point=e);return r||o.push({name:t,point:e}),o}))},remove:t=>{rt.emit("do event",{type:"remove",name:t})},_remove:t=>{n((e=>{let n=[];for(const o of e)o.name!==t&&n.push(o);return n}))},clear:()=>{rt.emit("do event",{type:"clear"})},_clear:()=>{n((t=>[]))}}}(),nt=function(){const{subscribe:t,set:e,update:n}=H({closed:!0});return{subscribe:t,open:()=>{rt.emit("do event",{type:"open"})},_open:()=>{n((()=>({closed:!1})))},close:()=>{rt.emit("do event",{type:"close"})},_close:()=>{n((()=>({closed:!0})))}}}(),ot=new Promise((t=>{!function(t,e){let n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.src=t,n.appendChild(o);let r=!1;o.onload=o.onreadystatechange=()=>{r||(r=!0,e(),o.onload=o.onreadystatechange=null,n&&o.parentNode&&n.removeChild(o))}}("https://simple-websocket-server.herokuapp.com/socket.io/socket.io.js",(()=>{var e;e=function(){const t=window.location.search;let e;if(t)e=t.substring(1);else{const t=tt();window.location.hash=t,window.history.replaceState("","","?"+t),e=t}return e}(),rt=window.io("https://simple-websocket-server.herokuapp.com/?roomId="+e),rt.on("do event",(t=>{const e=ct[t.type];e&&e(t)})),t()}))}));let rt;const ct={append:t=>{et._append(t.name,t.point)},remove:t=>{et._remove(t.name)},clear:t=>{et._clear()},open:t=>{nt._open()},close:t=>{nt._close()}};function lt(e){let n,o,r,c,l=(e[2]?"":e[0])+"";return{c(){n=f("div"),o=d(l),h(n,"class","card svelte-tq9sw8"),$(n,"closed",e[2]),$(n,"selected",e[1])},m(t,l){i(t,n,l),s(n,o),r||(c=m(n,"click",e[3]),r=!0)},p(t,[e]){5&e&&l!==(l=(t[2]?"":t[0])+"")&&g(o,l),4&e&&$(n,"closed",t[2]),2&e&&$(n,"selected",t[1])},i:t,o:t,d(t){t&&u(n),r=!1,c()}}}function st(t,e,n){let{point:o}=e,{selected:r=!1}=e,{closed:c=!1}=e;const l=k();return t.$$set=t=>{"point"in t&&n(0,o=t.point),"selected"in t&&n(1,r=t.selected),"closed"in t&&n(2,c=t.closed)},[o,r,c,function(){l("selectCard",{point:o})}]}class it extends F{constructor(t){super(),z(this,t,st,lt,c,{point:0,selected:1,closed:2})}}function ut(t,e,n){const o=t.slice();return o[5]=e[n],o}function at(t){let e,n,o,r,c,l,a,m=t[5].name+"";return n=new it({props:{point:t[5].point,closed:t[0].closed}}),{c(){e=f("div"),D(n.$$.fragment),o=p(),r=f("div"),c=d(m),l=p(),h(r,"class","name svelte-1i3m1i5"),h(e,"class","estimate svelte-1i3m1i5")},m(t,u){i(t,e,u),q(n,e,null),s(e,o),s(e,r),s(r,c),s(e,l),a=!0},p(t,e){const o={};2&e&&(o.point=t[5].point),1&e&&(o.closed=t[0].closed),n.$set(o),(!a||2&e)&&m!==(m=t[5].name+"")&&g(c,m)},i(t){a||(O(n.$$.fragment,t),a=!0)},o(t){U(n.$$.fragment,t),a=!1},d(t){t&&u(e),I(n)}}}function ft(t){let e,n,o,r,c=t[0].closed?"open":"return";return{c(){e=f("div"),n=d(c),h(e,"class","open-button svelte-1i3m1i5")},m(c,l){i(c,e,l),s(e,n),o||(r=m(e,"click",t[2]),o=!0)},p(t,e){1&e&&c!==(c=t[0].closed?"open":"return")&&g(n,c)},d(t){t&&u(e),o=!1,r()}}}function dt(e){let n,o,r;return{c(){n=f("div"),n.textContent="Copy",h(n,"class","copy-button svelte-1i3m1i5")},m(t,c){i(t,n,c),o||(r=m(n,"click",e[3]),o=!0)},p:t,d(t){t&&u(n),o=!1,r()}}}function pt(t){let e,n,o,r,c,l=t[1],d=[];for(let e=0;e<l.length;e+=1)d[e]=at(ut(t,l,e));const m=t=>U(d[t],1,1,(()=>{d[t]=null}));let g=t[1].length>0&&ft(t),$=!t[0].closed&&dt(t);return{c(){e=f("div"),n=f("div");for(let t=0;t<d.length;t+=1)d[t].c();o=p(),g&&g.c(),r=p(),$&&$.c(),h(n,"class","estimates svelte-1i3m1i5"),h(e,"class","table svelte-1i3m1i5")},m(t,l){i(t,e,l),s(e,n);for(let t=0;t<d.length;t+=1)d[t].m(n,null);s(e,o),g&&g.m(e,null),s(e,r),$&&$.m(e,null),c=!0},p(t,[o]){if(3&o){let e;for(l=t[1],e=0;e<l.length;e+=1){const r=ut(t,l,e);d[e]?(d[e].p(r,o),O(d[e],1)):(d[e]=at(r),d[e].c(),O(d[e],1),d[e].m(n,null))}for(V(),e=l.length;e<d.length;e+=1)m(e);B()}t[1].length>0?g?g.p(t,o):(g=ft(t),g.c(),g.m(e,r)):g&&(g.d(1),g=null),t[0].closed?$&&($.d(1),$=null):$?$.p(t,o):($=dt(t),$.c(),$.m(e,null))},i(t){if(!c){for(let t=0;t<l.length;t+=1)O(d[t]);c=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)U(d[t]);c=!1},d(t){t&&u(e),a(d,t),g&&g.d(),$&&$.d()}}}function mt(t,e,n){let o,r;return l(t,nt,(t=>n(0,o=t))),l(t,et,(t=>n(1,r=t))),[o,r,function(t){o.closed?r.length>0&&nt.open():(et.clear(),nt.close())},function(t){const e=function(){if(0===r.length)return"empty.";const t=new Date;return"["+t.toLocaleDateString()+" "+t.toLocaleTimeString()+"] "+r.sort(((t,e)=>t.name>e.name?1:-1)).reduce(((t,e)=>(t?t+" ":"")+`${e.name}(${e.point})`),null)}();navigator.clipboard.writeText(e)}]}class ht extends F{constructor(t){super(),z(this,t,mt,pt,c,{})}}function gt(t,e,n){const o=t.slice();return o[5]=e[n],o}function $t(t){let e,n;return e=new it({props:{point:t[5],selected:t[1]===t[5]}}),e.$on("selectCard",t[3]),{c(){D(e.$$.fragment)},m(t,o){q(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.selected=t[1]===t[5]),e.$set(o)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function bt(t){let e,n,o,r,c,l=t[2],m=[];for(let e=0;e<l.length;e+=1)m[e]=$t(gt(t,l,e));const $=t=>U(m[t],1,1,(()=>{m[t]=null}));return{c(){e=f("div"),n=f("div"),o=d(t[0]),r=p();for(let t=0;t<m.length;t+=1)m[t].c();h(n,"class","user-name svelte-4f78du"),h(e,"class","svelte-4f78du")},m(t,l){i(t,e,l),s(e,n),s(n,o),s(e,r);for(let t=0;t<m.length;t+=1)m[t].m(e,null);c=!0},p(t,[n]){if((!c||1&n)&&g(o,t[0]),14&n){let o;for(l=t[2],o=0;o<l.length;o+=1){const r=gt(t,l,o);m[o]?(m[o].p(r,n),O(m[o],1)):(m[o]=$t(r),m[o].c(),O(m[o],1),m[o].m(e,null))}for(V(),o=l.length;o<m.length;o+=1)$(o);B()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)O(m[t]);c=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)U(m[t]);c=!1},d(t){t&&u(e),a(m,t)}}}function vt(t,e,n){let o;l(t,et,(t=>n(4,o=t)));let r,c;for(;!(r=window.prompt("your name")););return t.$$.update=()=>{17&t.$$.dirty&&n(1,c=o.filter((t=>t.name===r)).map((t=>t.point)).pop())},[r,c,["0","1","2","3","5","8","13","21","34","55","?","∞"],function(t){c===t.detail.point?et.remove(r):et.append(r,t.detail.point)}]}class yt extends F{constructor(t){super(),z(this,t,vt,bt,c,{})}}function kt(e){return{c:t,m:t,i:t,o:t,d:t}}function wt(t){let e,n,o,r,c,l;return o=new ht({}),c=new yt({}),{c(){e=f("h1"),e.textContent="Planning Poker",n=p(),D(o.$$.fragment),r=p(),D(c.$$.fragment),h(e,"class","svelte-atxnar")},m(t,s){i(t,e,s),i(t,n,s),q(o,t,s),i(t,r,s),q(c,t,s),l=!0},i(t){l||(O(o.$$.fragment,t),O(c.$$.fragment,t),l=!0)},o(t){U(o.$$.fragment,t),U(c.$$.fragment,t),l=!1},d(t){t&&u(e),t&&u(n),I(o,t),t&&u(r),I(c,t)}}}function _t(e){let n;return{c(){n=f("p"),n.textContent="...waiting"},m(t,e){i(t,n,e)},i:t,o:t,d(t){t&&u(n)}}}function xt(t){let e,n,o,r,c,l;document.title=e=t[0];let a={ctx:t,current:null,token:null,hasCatch:!1,pending:_t,then:wt,catch:kt,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,r,c){if(e.token!==n)return;e.resolved=c;let l=e.ctx;void 0!==r&&(l=l.slice(),l[r]=c);const s=t&&(e.current=t)(l);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(V(),U(t,1,1,(()=>{e.blocks[n]=null})),B())})):e.block.d(1),s.c(),O(s,1),s.m(e.mount(),e.anchor),i=!0),e.block=s,e.blocks&&(e.blocks[o]=s),i&&A()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=y();if(t.then((t=>{v(n),o(e.then,1,e.value,t),v(null)}),(t=>{if(v(n),o(e.catch,2,e.error,t),v(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}(c=ot,a),{c(){n=f("link"),o=p(),r=f("main"),a.block.c(),h(n,"href","https://fonts.googleapis.com/css?family=M+PLUS+1p"),h(n,"rel","stylesheet"),h(r,"class","svelte-atxnar")},m(t,e){s(document.head,n),i(t,o,e),i(t,r,e),a.block.m(r,a.anchor=null),a.mount=()=>r,a.anchor=null,l=!0},p(n,[o]){t=n,(!l||1&o)&&e!==(e=t[0])&&(document.title=e)},i(t){l||(O(a.block),l=!0)},o(t){for(let t=0;t<3;t+=1){U(a.blocks[t])}l=!1},d(t){u(n),t&&u(o),t&&u(r),a.block.d(),a.token=null,a=null}}}function Ct(t,e,n){let{name:o}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name)},[o]}return new class extends F{constructor(t){super(),z(this,t,Ct,xt,c,{name:0})}}({target:document.body,props:{name:"Planning Poker"}})}();
//# sourceMappingURL=bundle.js.map
