{"version":3,"file":"UserSelection-788d5f61.js","sources":["../../src/lib/components/UserSelection.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { Estimate } from '../types';\n\n\timport Card from './Card.svelte';\n\timport OkButton from './OkButton.svelte';\n\texport let userName = '';\n\texport let isFixedUserName = false;\n\texport let estimates: Estimate[] = [];\n\texport let handleSelectCard: (e: CustomEvent<{ point: string }>) => void;\n\texport let handleFixName: (name: string) => void;\n\n\testimates = estimates || [];\n\n\t$: selectedPoint = estimates\n\t\t.filter((e) => e.name === userName)\n\t\t.map((e) => e.point)\n\t\t.pop();\n\n\tconst fibonacci: string[] = ['0', '1', '2', '3', '5', '8', '13', '21', '34', '55', '?', '∞'];\n\tconst ten: string[] = [\n\t\t'0',\n\t\t'10',\n\t\t'20',\n\t\t'30',\n\t\t'40',\n\t\t'50',\n\t\t'60',\n\t\t'70',\n\t\t'80',\n\t\t'90',\n\t\t'100',\n\t\t'?',\n\t\t'∞'\n\t];\n\n\tconst pointsTemplates: { id: string; points: string[] }[] = [\n\t\t{ id: 'fibonacci', points: fibonacci },\n\t\t{ id: 'ten', points: ten }\n\t];\n\n\tlet selectedPointsTemplateId = pointsTemplates[0].id;\n\n\t$: points = pointsTemplates.filter((p) => selectedPointsTemplateId === p.id)[0].points;\n</script>\n\n<div class={'user-selection'}>\n\t{#if userName && isFixedUserName}\n\t\t<div class=\"user-name\">{userName}</div>\n\t\t<div>\n\t\t\t<select bind:value={selectedPointsTemplateId}>\n\t\t\t\t{#each pointsTemplates as pointsTemplate}\n\t\t\t\t\t<option value={pointsTemplate.id}>{pointsTemplate.id}</option>\n\t\t\t\t{/each}\n\t\t\t</select>\n\t\t</div>\n\t\t{#each points as point}\n\t\t\t<Card\n\t\t\t\t{point}\n\t\t\t\tselectable={true}\n\t\t\t\tsize={'medium'}\n\t\t\t\tselected={selectedPoint === point}\n\t\t\t\ton:selectCard={handleSelectCard}\n\t\t\t/>\n\t\t{/each}\n\t{:else}\n\t\t<div class=\"user-name\">\n\t\t\t<form on:submit|preventDefault={() => handleFixName(userName)}>\n\t\t\t\t<!-- svelte-ignore a11y-autofocus -->\n\t\t\t\t<input bind:value={userName} placeholder=\"your name\" autofocus />\n\t\t\t\t{#if userName}\n\t\t\t\t\t<OkButton on:click={() => handleFixName(userName)} />\n\t\t\t\t{/if}\n\t\t\t</form>\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.user-selection {\n\t\ttext-align: center;\n\t}\n\n\tdiv > :global(.card) {\n\t\tdisplay: inline-block;\n\t\tmargin: 0 0 0.75rem 0.75rem;\n\t\tborder-width: 2px;\n\t\ttransition: background-color 0.2s ease-in-out 0s;\n\t}\n\n\t.user-name {\n\t\ttext-align: cener;\n\t\tcolor: #fff;\n\t\tpadding: 0.75rem 0;\n\t\tfont-size: 2rem;\n\t}\n\n\t.user-name input {\n\t\tfont-family: inherit;\n\t\ttext-align: center;\n\t\tcolor: white;\n\t\tbackground: none;\n\t\tpadding: 0;\n\t\tmax-width: 70%;\n\t\tborder-top: none;\n\t\tborder-left: none;\n\t\tborder-right: none;\n\t\tborder-bottom: white solid 1px;\n\t\tfont-size: 2rem;\n\t\tmargin-bottom: 0.5em;\n\t}\n\t.user-name input::placeholder {\n\t\tcolor: rgba(255, 255, 255, 0.7);\n\t}\n\t.user-name input:focus {\n\t\toutline: none;\n\t}\n</style>\n"],"names":["ctx","create_if_block_1","insert_hydration","target","div","anchor","append_hydration","form","input","add_render_callback","select","div0","div1","i","each_blocks","t_value","option","is_function","dirty","card_changes","userName","$$props","isFixedUserName","estimates","handleSelectCard","handleFixName","pointsTemplates","selectedPointsTemplateId","select_value","click_handler","submit_handler","$$invalidate","selectedPoint","e","points","p"],"mappings":"ogBAqESA,EAAQ,CAAA,GAAAC,EAAAD,CAAA,4WAJfE,EAQKC,EAAAC,EAAAC,CAAA,EAPJC,EAMMF,EAAAG,CAAA,EAJLD,EAAgEC,EAAAC,CAAA,MAA7CR,EAAQ,CAAA,CAAA,uHAARA,EAAQ,CAAA,OAARA,EAAQ,CAAA,CAAA,EACtBA,EAAQ,CAAA,kNAnBNA,EAAe,CAAA,uBAApB,OAAI,GAAA,yBAKDA,EAAM,CAAA,uBAAX,OAAI,GAAA,oFARkBA,EAAQ,CAAA,CAAA,+KAARA,EAAQ,CAAA,CAAA,gQAEXA,EAAwB,CAAA,IAAA,QAAAS,GAAA,IAAAT,EAAA,CAAA,EAAA,KAAAU,CAAA,CAAA,wCAF7CR,EAAsCC,EAAAQ,EAAAN,CAAA,kBACtCH,EAMKC,EAAAS,EAAAP,CAAA,EALJC,EAIQM,EAAAF,CAAA,uDAJYV,EAAwB,CAAA,EAAA,EAAA,iIAFrBA,EAAQ,CAAA,CAAA,WAGvBA,EAAe,CAAA,oBAApB,OAAIa,GAAA,EAAA,iHAAJ,qBADiBb,EAAwB,CAAA,CAAA,WAMtCA,EAAM,CAAA,oBAAX,OAAIa,GAAA,EAAA,iHAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,yCAAJ,OAAIA,GAAA,sYAJgCE,EAAAf,MAAe,GAAE,sHAArCgB,EAAA,QAAAhB,MAAe,6BAA9BE,EAA6DC,EAAAa,EAAAX,CAAA,kGAOlD,QACN,SACI,SAAAL,OAAkBA,EAAK,EAAA,mCAClBiB,GAAAjB,OAAAA,EAAgB,CAAA,EAAA,MAAA,KAAA,SAAA,sHADrBkB,EAAA,KAAAC,EAAA,SAAAnB,OAAkBA,EAAK,EAAA,6JAd/B,OAAAA,MAAYA,EAAe,CAAA,EAAA,0JADrB,gBAAgB,EAAA,iBAAA,UAA5BE,EA8BKC,EAAAC,EAAAC,CAAA,4PAtEO,CAAA,SAAAe,EAAW,EAAA,EAAAC,EACX,CAAA,gBAAAC,EAAkB,EAAA,EAAAD,GAClB,UAAAE,EAAA,EAAA,EAAAF,GACA,iBAAAG,CAAA,EAAAH,GACA,cAAAI,CAAA,EAAAJ,EAEXE,EAAYA,GAAA,GAwBN,MAAAG,EACH,CAAA,CAAA,GAAI,YAAa,OAlBd,CAAuB,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,IAAK,GAAG,GAkB/D,CACzB,GAAI,MAAO,OAlBR,CACL,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,IACA,IAKqB,CAAA,EAGlB,IAAAC,EAA2BD,EAAgB,CAAC,EAAE,gBAS5BC,EAAwBC,GAAA,IAAA,6BAmBxBR,EAAQ,KAAA,aAEA,MAAAS,EAAA,IAAAJ,EAAcL,CAAQ,EAJZU,EAAA,IAAAL,EAAcL,CAAQ,2QArD9DW,EAAA,EAAGC,EAAgBT,EACjB,OAAQU,GAAMA,EAAE,OAASb,CAAQ,EACjC,IAAKa,GAAMA,EAAE,KAAK,EAClB,IAAA,CAAA,qBA0BCC,EAASR,EAAgB,OAAQS,GAAMR,IAA6BQ,EAAE,EAAE,EAAE,CAAC,EAAE,MAAA"}